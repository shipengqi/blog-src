---
title: 使用Yarn代替NPM
date: 2017-10-25 12:34:07
categories: ["NodeJs"]
tags: ["NPM"]
---
Yarn是Facebook最新的包管理器。Yarn的使用方式跟npm类似，但命令上还是有所区别。
Yarn官网：https://yarnpkg.com/zh-Hans/

<!-- more -->

## 简单使用

### 开始新项目
``` bash
yarn init
```

### 添加依赖包
``` bash
yarn add [package]
yarn add [package]@[version]
yarn add [package]@[tag]
Adding a dependency to different categories of dependencies
```
分别添加到 devDependencies、peerDependencies 和 optionalDependencies：
``` bash
yarn add [package] --dev
yarn add [package] --peer
yarn add [package] --optional
```
### 升级依赖包
``` bash
yarn upgrade [package]
yarn upgrade [package]@[version]
yarn upgrade [package]@[tag]
```
### 移除依赖包
``` bash
yarn remove [package]
```
### 安装项目的全部依赖
``` bash
yarn
#或者

yarn install
```

### 全局
``` bash
yarn global [add|bin|ls|remove|upgrade] [flags]

#相当于

npm -g
```
更多命令详情 [Yarn CLI](https://yarnpkg.com/zh-Hans/docs/cli/)


## 避免与npm混用

`yarn`的全局`node_modules`位置和`npm`的不同。`npm`的`bin`目录在`C:/Users/shipengqi/AppData/Roaming/npm`，`yarn`会把`C:/Users/shipengqi/AppData/Roaming/npm/node_modules`目录的结构改掉，
并把之前用`npm`安装的一些模块删除掉，包括`npm`本身依赖的模块，最终导致`npm`不可用。
