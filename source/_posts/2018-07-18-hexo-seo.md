---
title: Hexo SEO
date: 2018-07-18 15:06:42
categories: ["编程"]
tags: ["Hexo", "SEO"]
---

博客搭建也有大半年了，发现在百度上却搜索不到，于是决定调研一下，hexo 的seo。

<!-- more -->

## 准备

### 主题配置文件
我用的是[Next](http://theme-next.iissnan.com/)主题，Next主题官方提供了seo的功能，但是默认是关闭的，需要修改配置文件：
```yml
canonical: true
seo: true
index_with_subtitle: true
baidu_push: true
```
### 站点配置文件
下面的配置要填写：
```yml
title:  #标题
subtitle:  #子标题
description: #描述
url: #url
```

## 首页title优化
更改文件 `blog\themes\next\layout\index.swig`：
```html
{% block title %} {{ config.title }} {% endblock %}
```

改成：
```html
{% block title %} {{ theme.keywords }} - {{ config.title }} - {{ theme.description }} {% endblock %}
```

## 添加sitemap站点地图
```bash
yarn add hexo-generator-sitemap hexo-generator-baidu-sitemap

#or
npm install hexo-generator-sitemap hexo-generator-baidu-sitemap --save
```

站点配置文件中添加sitemap的生成路径：
```yml
sitemap:
  path: sitemap.xml
baidusitemap:
  path: baidusitemap.xml
```

在主题配置文件中修改url为域名：
```yml
url: https://www.shipengqi.top
```

配置好后，执行`hexo g`就能在`your-hexo-site\public` 中生成`sitemap.xml` 和 `baidusitemap.xml`了。

### 添加robots.txt
在`your-hexo-site\source`中添加`robots.txt`，告诉搜索引擎，哪些是可以爬的，哪些是不可以爬：
```txt
User-agent: *
Allow: /
Allow: /archives/
Allow: /categories/
Allow: /tags/

Disallow: /vendors/
Disallow: /js/
Disallow: /css/
Disallow: /fonts/
Disallow: /vendors/
Disallow: /fancybox/

Sitemap: https://hjptriplebee.github.io/sitemap.xml
Sitemap: https://hjptriplebee.github.io/baidusitemap.xml
```

### 提交sitemap
`sitemap.xml`适合提交给谷歌搜素引擎，`baidusitemap.xml`适合提交百度搜索引擎。

## 给非友情链接的出站链接添加`nofollow`标签
打开`your-hexo-site\themes\next\layout\_partials\footer.swig`:
```html
{{ __('footer.powered', '<a class="theme-link" href="http://hexo.io">Hexo</a>') }}
```
改成：
```html
{{ __('footer.powered', '<a class="theme-link" href="http://hexo.io" rel="external nofollow">Hexo</a>') }}
```

添加的地方太多，不多介绍。