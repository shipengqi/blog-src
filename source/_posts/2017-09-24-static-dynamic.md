---
title: 静态与动态
date: 2017-09-24 15:23:07
categories: ["编程"]
---

## 动态语言和静态语言的区别
变量本身类型不固定的语言称之为动态语言，与之对应的是静态语言。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。
<!-- more -->

**静态类型语言**是指在编译时变量的数据类型即可确定的语言，多数静态类型语言要求在使用变量之前必须声明数据类型，某些具有类型推导能力的现代语言可能能够部分减轻这个要求.
**动态类型语言**是在运行时确定数据类型的语言。变量使用之前不需要类型声明，通常变量的类型是被赋值的那个值的类型。
强类型语言是一旦变量的类型被确定，就不能转化的语言。实际上所谓的貌似转化，都是通过中间变量来达到，原本的变量的类型肯定是没有变化的。
弱类型语言则反之，一个变量的类型是由其应用上下文确定的。比如语言直接支持字符串和整数可以直接用 + 号搞定。当然，在支持运算符重载的强类型语言中也能通过外部实现的方式在形式上做到这一点，不过这个是完全不一样的内涵
通常的说，java/python都算是强类型的，而VB/Perl/C都是弱类型的.
不过相比于动态/静态语言的分类，强类型/弱类型更多的是一个相对的概念。

## 静态作用域(词法作用域)与动态作用域的区别

作用域类别影响变量的绑定方式，根据语言使用静态作用域（词法作用域）还是动态作用域变量的取值可能会有不同的结果。
**静态作用域**又叫做词法作用域，采用词法作用域的变量叫词法变量。词法变量有一个在编译时静态确定的作用域。词法变量的作用域可以是一个函数或一段代码，
该变量在这段代码区域内可见（visibility）；在这段区域以外该变量不可见（或无法访问）。词法作用域里，取变量的值时，会检查函数定义时的文本环境，捕捉函数定义时对该变量的绑定。
大多数现在程序设计语言都是采用静态作用域规则，如C/C++、C#、Python、Java、JavaScript……
采用**动态作用域**的变量叫做动态变量。只要程序正在执行定义了动态变量的代码段，那么在这段时间内，该变量一直存在；代码段执行结束，该变量便消失。这意味着如果有个函数f，里面调用了函数g，
那么在执行g的时候，f里的所有局部变量都会被g访问到。在静态作用域的情况下，g不能访问f的变量。动态作用域里，取变量的值时，会由内向外逐层检查函数的调用链，并打印第一次遇到的那个绑定的值。
显然，最外层的绑定即是全局状态下的那个值。采用动态作用域的语言有Emacs Lisp、Common Lisp（兼有静态作用域）、Perl（兼有静态作用域）。C/C++的宏中用到的名字，也是动态作用域。
